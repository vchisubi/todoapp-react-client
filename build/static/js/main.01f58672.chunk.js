(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],Array(20).concat([function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAHCCAYAAADW/ljQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIhJREFUeNrszcsJgEAMQMGNWIClbAm2ZmeWYCl2EFlQ8ODnord5hxDIQEr5ujiWzBwv7mtELOWEat5Xm+l2Ozx8Hc7wNRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRC8rG8jIubMnG7MUn5pE2AAGCYr7xQfQ94AAAAASUVORK5CYII="},,function(e,t,n){e.exports={viewAllButton:"viewAllButton_viewAllButton__1XelC"}},function(e,t,n){e.exports={viewActiveButton:"viewActiveButton_viewActiveButton__1wh0l"}},function(e,t,n){e.exports={viewCompletedButton:"viewCompletedButton_viewCompletedButton__2jpw0"}},function(e,t,n){e.exports={clearAllButton:"clearAllButton_clearAllButton__1h9p0"}},,,,,function(e,t,n){},function(e,t,n){e.exports={border:"homeBorder_border__31irh",bg:"homeBorder_bg__9kIe9"}},function(e,t,n){e.exports={border:"loginBorder_border__2FCsF",bg:"loginBorder_bg__2TZGz"}},function(e,t,n){e.exports={border:"registerBorder_border__Ccokn",bg:"registerBorder_bg__3dADm"}},function(e,t,n){e.exports={rotated:"rotated_rotated__m6JvJ",month:"rotated_month__f8kVR",day:"rotated_day__1o8C0",dayNum:"rotated_dayNum__3BBZp"}},function(e,t,n){e.exports={todoItem:"todoitem_todoItem__3h8DB"}},function(e,t,n){e.exports={sekret:"sekret_sekret__3Q_VP"}},,,,,,,,,function(e,t,n){e.exports={homeContainer:"homeContainer_homeContainer__2dEY-"}},function(e,t,n){e.exports={loginContainer:"loginContainer_loginContainer__2t4rq"}},function(e,t,n){e.exports={loginContainer:"registerContainer_loginContainer__2jcHO",registerContainer:"registerContainer_registerContainer__2rpXs"}},function(e,t,n){e.exports={listContainer:"listContainer_listContainer__i40df"}},function(e,t,n){e.exports={todolistContainer:"todolistContainer_todolistContainer__2A26O"}},function(e,t,n){e.exports={inputContainer:"inputContainer_inputContainer__3fJdH"}},function(e,t,n){e.exports={inputFieldContainer:"inputFieldContainer_inputFieldContainer__2k9EA"}},function(e,t,n){e.exports={navContainer:"navContainer_navContainer__1YvmV"}},function(e,t,n){e.exports={basicButton:"basicButton_basicButton__1tmog"}},function(e,t,n){e.exports={homeButton:"homeButton_homeButton__2bH_z"}},function(e,t,n){e.exports={listButton:"listButton_listButton__1-HSr"}},function(e,t,n){e.exports={loginButton:"loginButton_loginButton__1bR6W"}},function(e,t,n){e.exports={logoutButton:"logoutButton_logoutButton__2XyOL"}},function(e,t,n){e.exports={registerButton:"registerButton_registerButton__2VdAc"}},function(e,t,n){e.exports={googleButton:"googleButton_googleButton__h4qgi"}},function(e,t,n){e.exports={listCol1:"listCol_listCol1__2hS8D",listCol2:"listCol_listCol2__1b9gF",listCol3:"listCol_listCol3__20b73",listCol4:"listCol_listCol4__3PV3v",listCol5:"listCol_listCol5__26PEC"}},function(e,t,n){e.exports={homeCol1:"homeCol_homeCol1__3m6Vu",homeCol2:"homeCol_homeCol2__1rQ_w",homeCol3:"homeCol_homeCol3__1UIaC",homeCol4:"homeCol_homeCol4__Ao8Ty"}},function(e,t,n){e.exports={loginCol1:"loginCol_loginCol1__NLuW8",loginCol2:"loginCol_loginCol2__rWfM6"}},function(e,t,n){e.exports={registerCol1:"registerCol_registerCol1__1xqqD",registerCol2:"registerCol_registerCol2__3DYgN"}},,,,,,,,function(e,t,n){e.exports=n(105)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(65),i=n(3),l=(n(76),n(2)),c=n(5),s=n(7),u=n(6),m=n(8),d=n(16),h=n(66),p=n.n(h),g=n(21),C=n.n(g),f=(n(30),n(31)),_=n.n(f),b=n(32),v=n.n(b),E=n(33),A=n.n(E),x=n(34),w=n.n(x),O=n(35),B=n.n(O),y=n(36),N=n.n(y);var j=function(){var e=C()(Date.now()),t=e.format("MMMM"),n=e.format("dddd"),a=e.format("Do");return o.a.createElement("div",null,o.a.createElement("div",{className:w.a.month},t),o.a.createElement("div",{className:w.a.rotated},o.a.createElement("div",{className:w.a.day},n),o.a.createElement("div",{className:w.a.dayNum},a)))},k=n(4),S=n.n(k),R=n(67),I=Object(a.createContext)(),Q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={user:{},loggedIn:!1,profileType:"unknown"},n.setContext=function(e,t){n.setState({user:e,loggedIn:!n.state.loggedIn,profileType:t})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(I.Provider,{value:Object(R.a)({},this.state,{setContext:this.setContext})},this.props.children)}}]),t}(a.Component),P=n(45),T=n.n(P),D=n(46),U=n.n(D),F=n(47),L=n.n(F),M=n(48),W=n.n(M),q=n(49),G=n.n(q),J=n(50),V=n.n(J),Y=n(51),Z=n.n(Y),z=n(52),H=n.n(z),X=n(53),K=n.n(X),$=n(54),ee=n.n($),te=n(55),ne=n.n(te),ae=n(56),oe=n.n(ae),re=n(57),ie=n.n(re),le=n(58),ce=n.n(le),se=n(22),ue=n.n(se),me=n(23),de=n.n(me),he=n(24),pe=n.n(he),ge=n(25),Ce=n.n(ge),fe=n(59),_e=n.n(fe),be=n(60),ve=n.n(be),Ee=n(61),Ae=n.n(Ee),xe=n(62),we=n.n(xe),Oe=n(63),Be=n.n(Oe),ye=n(20),Ne=n.n(ye),je=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleLogout=function(){S.a.get("/auth/logout").then((function(t){t.data&&(e.context.setContext({username:"No User"},""),e.setState({loggedOut:!0}))}))},e.state={loggedOut:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.context.loggedIn&&setInterval((function(){S.a.get("/auth/tokenCheck").then((function(t){!1===t.data&&e.handleLogout()}))}),9e5)}},{key:"render",value:function(){var e;return e=this.context.loggedIn?(this.context.profileType,o.a.createElement("div",null,o.a.createElement(i.b,{to:"./list"},o.a.createElement("button",{className:ne.a.listButton})),o.a.createElement("button",{className:ie.a.logoutButton,onClick:this.handleLogout}))):o.a.createElement(i.b,{to:"./login"},o.a.createElement("button",{className:oe.a.loginButton})),this.state.loggedOut?o.a.createElement(d.a,{to:"/login"}):o.a.createElement("div",null,o.a.createElement("div",{className:_.a.border}),o.a.createElement("div",{className:T.a.homeContainer},o.a.createElement("div",{className:Ae.a.homeCol1},o.a.createElement(p.a,{format:"hh:mm:ss",timezone:"US/Pacific",style:{fontSize:"200px"}})),o.a.createElement("div",{className:Ae.a.homeCol2},o.a.createElement("img",{src:Ne.a,width:"15px",height:"550px"})),o.a.createElement("div",{className:Ae.a.homeCol3},e),o.a.createElement("div",{className:Ae.a.homeCol4},o.a.createElement(j,null))))}}]),t}(a.Component);je.contextType=I;var ke=n(11),Se=n.n(ke),Re=n(15),Ie=n(18),Qe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){n.setState(Object(Ie.a)({},e.target.name,e.target.value))},n.onSubmit=function(){var e=Object(Re.a)(Se.a.mark((function e(t){var a,o,r,i;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,o=a.loginUsername,r=a.loginPassword,i={username:o,password:r},S.a.post("/auth/login",i).then(function(){var e=Object(Re.a)(Se.a.mark((function e(t){var a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.data.success){e.next=7;break}return a=n.context.setContext,e.next=4,a(t.data.user,"local");case 4:n.setState({redirect:!0}),e.next=9;break;case 7:console.log("An error occured logging in as a local user: "+t.data),n.setState({redirect:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loginUsername:"",loginPassword:"",redirect:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loginUsername,n=e.loginPassword;return e.redirect?o.a.createElement(d.a,{to:"/list"}):o.a.createElement("div",{className:U.a.loginContainer},o.a.createElement("div",{className:v.a.border},o.a.createElement("div",{className:we.a.loginCol1},o.a.createElement(i.b,{to:"./"},o.a.createElement("button",{className:ee.a.homeButton})),o.a.createElement(i.b,{to:"./register"},o.a.createElement("button",{className:ce.a.registerButton}))),o.a.createElement("div",{className:we.a.loginCol2},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("h1",null,"Sign In"),o.a.createElement("div",{className:V.a.inputContainer},o.a.createElement("input",{type:"text",name:"loginUsername",placeholder:"Username",value:t,onChange:this.onChange,autoFocus:!0,required:!0})),o.a.createElement("div",{className:V.a.inputContainer},o.a.createElement("input",{type:"password",name:"loginPassword",placeholder:"Password",value:n,onChange:this.onChange,required:!0})),o.a.createElement("button",{className:K.a.basicButton,type:"submit"},"Login")),o.a.createElement("br",null),o.a.createElement("a",{className:_e.a.googleButton,href:"http://localhost:4002/auth/google"}))))}}]),t}(a.Component);Qe.contextType=I;var Pe=Qe,Te=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(Ie.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.registerUsername,o=n.registerPassword;if(o!==n.registerConfirmPassword)alert("Passwords do not match!"),e.setState({registerPassword:"",registerConfirmPassword:""});else{var r={username:a,password:o};S.a.post("/auth/register",r).then((function(t){!0===t.data?e.setState({redirect:t.data}):(console.log("An error occured creating new local user: "+t.data),e.setState({redirect:!1}))}))}},e.state={registerUsername:"",registerPassword:"",registerConfirmPassword:"",redirect:!1},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.registerUsername,n=e.registerPassword,a=e.registerConfirmPassword;return e.redirect?o.a.createElement(d.a,{to:"/login"}):o.a.createElement("div",{className:L.a.registerContainer},o.a.createElement("div",{className:A.a.border}),o.a.createElement("div",{className:Be.a.registerCol1},o.a.createElement(i.b,{to:"./"},o.a.createElement("button",{className:ee.a.homeButton})),o.a.createElement(i.b,{to:"./login"},o.a.createElement("button",{className:oe.a.loginButton}))),o.a.createElement("div",{className:Be.a.registerCol2},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("h1",null,"Register Account"),o.a.createElement("div",{className:V.a.inputContainer},o.a.createElement("input",{type:"text",name:"registerUsername",placeholder:"Username",value:t,onChange:this.onChange,required:!0,autoFocus:!0})),o.a.createElement("div",{className:V.a.inputContainer},o.a.createElement("input",{type:"password",name:"registerPassword",placeholder:"Password",value:n,onChange:this.onChange,required:!0})),o.a.createElement("div",{className:V.a.inputContainer},o.a.createElement("input",{type:"password",name:"registerConfirmPassword",placeholder:"Confirm Password",value:a,onChange:this.onChange,required:!0})),o.a.createElement("button",{className:K.a.basicButton,type:"submit"},"Register"))),o.a.createElement("div",{className:N.a.sekret}))}}]),t}(a.Component),De=n(19),Ue=function e(){var t=this;Object(l.a)(this,e),this.updateAndSort=function(){var e=Object(Re.a)(Se.a.mark((function e(t){var n,a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/todos/"+t).then((function(e){return e.json()}));case 2:return n=e.sent,a=n.sort((function(e,t){return e._id-t._id})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.postTodo=function(e,t){var n={title:e,ownerid:t,completed:!1};S.a.post("/api/todos",n).then((function(e){console.log("Added task: "+n.title)}))},this.obliterateTask=function(e){S.a.delete("api/todos/"+e).then((function(t){console.log("Deleting: "+e)})).catch((function(e){console.log(e)})).then(t.updateAndSort())},this.obliterateAll=function(){var e=Object(Re.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.delete("api/todos/clear/"+t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.patchTask=function(e,n){var a={};a.id=e,a.completed=n,S.a.patch("api/todos/"+e,a).then((function(e){})).catch((function(e){console.log(e)})).then(t.updateAndSort())}};function Fe(e){return o.a.createElement("div",{className:Z.a.inputFieldContainer},o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("input",{onChange:e.handleInput,type:"text",value:e.data,name:"userInput",placeholder:"Enter Task",width:"100%",autoFocus:!0}),o.a.createElement("button",{className:K.a.basicButton},"Submit")))}function Le(e){return o.a.createElement("div",{className:B.a.todoItem},o.a.createElement("input",{type:"checkbox",onChange:function(){return e.handleChange(e.item.id)},checked:e.item.completed}),o.a.createElement("label",{style:e.item.completed?{fontStyle:"italic",color:"#cdcdcd",textDecoration:"line-through"}:null},e.item.title),o.a.createElement("span",{onClick:function(){return e.handleClick(e.item.id)}}," ","\xd7"))}function Me(e){return o.a.createElement("button",{className:ue.a.viewAllButton,onClick:e.handleShowAll})}function We(e){return o.a.createElement("button",{className:de.a.viewActiveButton,onClick:e.handleShowActive})}function qe(e){return o.a.createElement("button",{className:pe.a.viewCompletedButton,onClick:e.handleShowComplete})}function Ge(e){return o.a.createElement("button",{className:Ce.a.clearAllButton,onClick:e.handleClearAll})}var Je=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).getTodoList=function(){n.myController.updateAndSort(n.context.user._id).then((function(e){n.setState({todos:e})}))},n.showAll=function(){n.getTodoList()},n.showActive=function(){var e=[];n.myController.updateAndSort(n.context.user._id).then((function(t){t.map((function(t){!1===t.completed&&e.push(t),n.setState({todos:e})}))}))},n.showComplete=function(){var e=[];n.myController.updateAndSort(n.context.user._id).then((function(t){t.map((function(t){!0===t.completed&&e.push(t),n.setState({todos:e})}))}))},n.handleChange=function(e){n.setState((function(t){return{todos:t.todos.map((function(t){return t.id===e&&(t.completed=!t.completed,n.myController.patchTask(e,t.completed)),t}))}}))},n.handleClick=function(e){var t=[];n.setState((function(a){return a.todos.map((function(a){return a.id===e?n.myController.obliterateTask(e):t.push(a),a})),{todos:t}}))},n.handleClear=function(){n.myController.obliterateAll(n.context.user._id),n.setState({todos:[]})},n.handleInput=function(e){n.setState({inputfield:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),""===n.state.inputfield?alert("Please enter a task!"):(n.myController.postTodo(n.state.inputfield,n.context.user._id),n.myController.updateAndSort(n.context.user._id).then((function(e){n.setState({inputfield:"",todos:e}),n.getTodoList()})))},n.handleLogout=function(){S.a.get("/auth/logout").then((function(e){e.data&&(n.context.setContext({username:"No User"},""),n.setState({loggingOut:!0}))}))},n.state={inputfield:"",todos:[],loggingOut:!1},n.myController=new Ue,n.onCheckboxChange=n.handleChange.bind(Object(De.a)(n)),n.onDeleteTask=n.handleClick.bind(Object(De.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getTodoList(),setInterval((function(){S.a.get("/auth/tokenCheck").then((function(t){!1===t.data&&e.handleLogout()}))}),9e5)}},{key:"render",value:function(){var e=this,t=this.state.todos.map((function(t){return o.a.createElement(Le,{key:t._id,item:t,handleChange:e.onCheckboxChange,handleClick:e.onDeleteTask})}));return this.state.loggingOut?o.a.createElement(d.a,{to:"/login"}):o.a.createElement("div",{className:W.a.listContainer},o.a.createElement("div",{className:ve.a.listCol1},o.a.createElement(Fe,{handleSubmit:this.handleSubmit,handleInput:this.handleInput,data:this.state.inputfield})),o.a.createElement("div",{className:ve.a.listCol2},o.a.createElement("img",{src:Ne.a,width:"15px",height:"550px"})),o.a.createElement("div",{className:ve.a.listCol3},o.a.createElement("div",{className:G.a.todolistContainer},o.a.createElement("ul",null,t)),o.a.createElement("div",{className:H.a.navContainer},o.a.createElement(i.b,{to:"./"},o.a.createElement("button",{className:ee.a.homeButton})),o.a.createElement("button",{className:ie.a.logoutButton,onClick:this.handleLogout}))),o.a.createElement("div",{className:ve.a.listCol4},o.a.createElement("img",{src:Ne.a,width:"15px",height:"550px"})),o.a.createElement("div",{className:ve.a.listCol5},o.a.createElement(Me,{handleShowAll:this.showAll}),o.a.createElement(We,{handleShowActive:this.showActive}),o.a.createElement(qe,{handleShowComplete:this.showComplete}),o.a.createElement(Ge,{handleClearAll:this.handleClear})))}}]),t}(a.Component);Je.contextType=I;var Ve=Je,Ye=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!0},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Re.a)(Se.a.mark((function e(){var t=this;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/auth/authCheck").then((function(e){var n=e.data.user;(0,t.context.setContext)(n,"Google+")}));case 2:this.setState({loading:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?null:o.a.createElement(d.a,{to:"/list"})}}]),t}(a.Component);Ye.contextType=I;var Ze=Ye,ze=n(70),He=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.component,a=Object(ze.a)(t,["component"]);return o.a.createElement(d.b,Object.assign({},a,{render:function(t){return e.context.loggedIn?o.a.createElement(n,t):o.a.createElement(d.a,{to:{pathname:"/login"}})}}))}}]),t}(a.Component);He.contextType=I;var Xe=He,Ke=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={loggedIn:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(d.d,null,o.a.createElement(Q,null,o.a.createElement(d.b,{exact:!0,path:"/",component:je}),o.a.createElement(d.b,{path:"/login",component:Pe}),o.a.createElement(d.b,{path:"/register",component:Te}),o.a.createElement(d.b,{path:"/redirect",component:Ze}),o.a.createElement(Xe,{path:"/list",component:Ve})))}}]),t}(a.Component);Object(r.render)(o.a.createElement(i.a,null,o.a.createElement(Ke,null)),document.getElementById("root"))}]),[[71,1,2]]]);
//# sourceMappingURL=main.01f58672.chunk.js.map